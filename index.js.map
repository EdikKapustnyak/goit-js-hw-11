{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\n\nexport function renderGallery(images) {\n    gallery.innerHTML = '';\n\n    const markup = images.map(image => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" width=\"360\" height=\"240\" />\n            </a>\n            <div class=\"description\">\n                <p class=\"gallery-item-text\">Likes</p>\n                <span>${image.likes}</span>\n            </div>\n            <div class=\"description\">\n                <p class=\"gallery-item-text\">Views</p>\n                <span>${image.views}</span>\n            </div>\n            <div class=\"description\">\n                <p class=\"gallery-item-text\">Comments</p>\n                <span>${image.comments}</span>\n            </div>\n            <div class=\"description\">\n                <p class=\"gallery-item-text\">Downloads</p>\n                <span>${image.downloads}</span>\n            </div>\n        </li>`\n    ).join('');\n\n    gallery.innerHTML = markup;\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n    lightbox.refresh();\n}\n\n\n\nconst MY_KEY = \"0aad6a646770250f1e2d10aace71581f\"; // Ваш API-ключ от ipstack\nconst userInfo = {}; // Объект для хранения информации о пользователе\n\n// Функция для получения IP-адреса и информации о пользователе\nasync function getUserIP() {\n    try {\n        // Делаем запрос к API ipstack\n        const response = await fetch(`http://api.ipstack.com/check?access_key=${MY_KEY}`);\n        const data = await response.json();\n\n        // Сохраняем IP-адрес и другую информацию в объект\n        userInfo.ip = data.ip;\n        userInfo.country = data.country_name;\n        userInfo.city = data.city;\n        userInfo.latitude = data.latitude;\n        userInfo.longitude = data.longitude;\n\n        console.log(\"Информация о пользователе:\", userInfo);\n\n        // Отправляем данные на сервер (опционально)\n        sendUserInfoToServer(userInfo);\n    } catch (error) {\n        console.error(\"Ошибка при получении IP-адреса:\", error);\n    }\n}\n\n// Функция для отправки данных на сервер (опционально)\nfunction sendUserInfoToServer(info) {\n    fetch('https://your-server.com/api/save-user-info', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(info),\n    })\n    .then(response => response.json())\n    .then(data => {\n        console.log(\"Данные успешно отправлены на сервер:\", data);\n    })\n    .catch(error => {\n        console.error(\"Ошибка при отправке данных на сервер:\", error);\n    });\n}\n\n// Вызываем функцию при загрузке страницы\nwindow.addEventListener('load', getUserIP);","import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { renderGallery } from './render-functions';\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', findImg);\n\nexport function findImg(event) { \n    event.preventDefault();\n    \n    const getInputValue = document.querySelector('input[name=\"search-text\"]').value.trim();\n\n    if (getInputValue === '') { \n        iziToast.show({\n            title: 'Error',\n            message: 'Please enter a search query!'\n        });\n        return;\n    }\n\n    getRequest(getInputValue)\n        .then(response => {\n            if (response.data.hits.length === 0) { \n                iziToast.show({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!'\n                });\n            } else {\n                console.log(response.data);\n                renderGallery(response.data.hits);\n            }\n        })\n        .catch(error => {\n            console.error(error);\n            iziToast.show({\n                title: 'Error',\n                message: 'Sorry, there was an error processing your request. Please try again!'\n            });\n        });\n}\n\nexport function getRequest(request) {\n    return axios.get('https://pixabay.com/api/', {\n        params: { \n            key: '49320414-34c235123b434a4e0d748057d',\n            q: request,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true\n        }\n    });\n}","import './js/pixabay-api';\nimport './js/render-functions';\nimport { findImg, getRequest } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\n\nconst form = document.querySelector(`.form`);\n\nform.addEventListener('submit', findImg);"],"names":["gallery","renderGallery","images","markup","image","SimpleLightbox","MY_KEY","userInfo","getUserIP","data","sendUserInfoToServer","error","info","response","form","findImg","event","getInputValue","iziToast","getRequest","request","axios"],"mappings":"owBAGA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAcC,EAAQ,CAClCF,EAAQ,UAAY,GAEpB,MAAMG,EAASD,EAAO,IAAIE,GAAS;AAAA;AAAA,4CAEKA,EAAM,aAAa;AAAA,4BACnCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,wBAI1CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,wBAIdA,EAAM,SAAS;AAAA;AAAA,cAGvC,EAAM,KAAK,EAAE,EAETJ,EAAQ,UAAYG,EAEH,IAAIE,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACtB,CAAK,EACQ,QAAS,CACtB,CAIA,MAAMC,EAAS,mCACTC,EAAW,CAAA,EAGjB,eAAeC,GAAY,CACvB,GAAI,CAGA,MAAMC,EAAO,MADI,MAAM,MAAM,2CAA2CH,CAAM,EAAE,GACpD,KAAM,EAGlCC,EAAS,GAAKE,EAAK,GACnBF,EAAS,QAAUE,EAAK,aACxBF,EAAS,KAAOE,EAAK,KACrBF,EAAS,SAAWE,EAAK,SACzBF,EAAS,UAAYE,EAAK,UAE1B,QAAQ,IAAI,6BAA8BF,CAAQ,EAGlDG,EAAqBH,CAAQ,CAChC,OAAQI,EAAO,CACZ,QAAQ,MAAM,kCAAmCA,CAAK,CAC9D,CACA,CAGA,SAASD,EAAqBE,EAAM,CAChC,MAAM,6CAA8C,CAChD,OAAQ,OACR,QAAS,CACL,eAAgB,kBACnB,EACD,KAAM,KAAK,UAAUA,CAAI,CAC5B,CAAA,EACA,KAAKC,GAAYA,EAAS,KAAM,CAAA,EAChC,KAAKJ,GAAQ,CACV,QAAQ,IAAI,uCAAwCA,CAAI,CAC3D,CAAA,EACA,MAAME,GAAS,CACZ,QAAQ,MAAM,wCAAyCA,CAAK,CACpE,CAAK,CACL,CAGA,OAAO,iBAAiB,OAAQH,CAAS,ECnFzC,MAAMM,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAO,EAEhC,SAASA,EAAQC,EAAO,CAC3BA,EAAM,eAAgB,EAEtB,MAAMC,EAAgB,SAAS,cAAc,2BAA2B,EAAE,MAAM,KAAM,EAEtF,GAAIA,IAAkB,GAAI,CACtBC,EAAS,KAAK,CACV,MAAO,QACP,QAAS,8BACrB,CAAS,EACD,MACR,CAEIC,EAAWF,CAAa,EACnB,KAAKJ,GAAY,CACVA,EAAS,KAAK,KAAK,SAAW,EAC9BK,EAAS,KAAK,CACV,MAAO,QACP,QAAS,0EAC7B,CAAiB,GAED,QAAQ,IAAIL,EAAS,IAAI,EACzBZ,EAAcY,EAAS,KAAK,IAAI,EAEvC,CAAA,EACA,MAAMF,GAAS,CACZ,QAAQ,MAAMA,CAAK,EACnBO,EAAS,KAAK,CACV,MAAO,QACP,QAAS,sEACzB,CAAa,CACb,CAAS,CACT,CAEO,SAASC,EAAWC,EAAS,CAChC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACxB,CACA,CAAK,CACL,CC/CA,MAAMN,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAO"}