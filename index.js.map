{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'https://pixabay.com/api/';\nconst MY_KEY = '49320414-34c235123b434a4e0d748057d';\n\nexport function getRequest(request) {\n    return axios.get(API_URL, {\n        params: { \n            key: MY_KEY,\n            q: request,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true\n        }\n    });\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\n\nexport function renderGallery(images) {\n    gallery.innerHTML = '';\n\n    const markup = images.map(image => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" width=\"360\" height=\"240\" />\n            </a>\n            <div class=\"description\">\n                <p class=\"gallery-item-text\">Likes</p>\n                <span>${image.likes}</span>\n            </div>\n            <div class=\"description\">\n                <p class=\"gallery-item-text\">Views</p>\n                <span>${image.views}</span>\n            </div>\n            <div class=\"description\">\n                <p class=\"gallery-item-text\">Comments</p>\n                <span>${image.comments}</span>\n            </div>\n            <div class=\"description\">\n                <p class=\"gallery-item-text\">Downloads</p>\n                <span>${image.downloads}</span>\n            </div>\n        </li>`\n    ).join('');\n\n    gallery.innerHTML = markup;\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n    lightbox.refresh();\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getRequest } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', findImg);\n\nfunction findImg(event) { \n    event.preventDefault();\n    \n    const getInputValue = document.querySelector('input[name=\"search-text\"]').value.trim();\n\n    if (getInputValue === '') { \n        iziToast.show({\n            title: 'Error',\n            message: 'Please enter a search query!'\n        });\n        return;\n    }\n\n    loader.classList.remove('visually-hidden');\n\n    getRequest(getInputValue)\n        .then(response => {\n            if (response.data.hits.length === 0) { \n                iziToast.show({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!'\n                });\n            } else {\n                console.log(response.data);\n                renderGallery(response.data.hits);\n            }\n        })\n        .catch(error => {\n            console.error(error);\n            iziToast.show({\n                title: 'Error',\n                message: 'Sorry, there was an error processing your request. Please try again!'\n            });\n        })\n        .finally(() => loader.classList.add('visually-hidden'));\n}"],"names":["API_URL","MY_KEY","getRequest","request","axios","gallery","renderGallery","images","markup","image","SimpleLightbox","form","loader","findImg","event","getInputValue","iziToast","response","error"],"mappings":"owBAEA,MAAMA,EAAU,2BACVC,EAAS,qCAER,SAASC,EAAWC,EAAS,CAChC,OAAOC,EAAM,IAAIJ,EAAS,CACtB,OAAQ,CACJ,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACxB,CACA,CAAK,CACL,CCZA,MAAME,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAcC,EAAQ,CAClCF,EAAQ,UAAY,GAEpB,MAAMG,EAASD,EAAO,IAAIE,GAAS;AAAA;AAAA,4CAEKA,EAAM,aAAa;AAAA,4BACnCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,wBAI1CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,wBAIdA,EAAM,SAAS;AAAA;AAAA,cAGvC,EAAM,KAAK,EAAE,EAETJ,EAAQ,UAAYG,EAEH,IAAIE,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACtB,CAAK,EACQ,QAAS,CACtB,CClCA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,CAAO,EAEvC,SAASA,EAAQC,EAAO,CACpBA,EAAM,eAAgB,EAEtB,MAAMC,EAAgB,SAAS,cAAc,2BAA2B,EAAE,MAAM,KAAM,EAEtF,GAAIA,IAAkB,GAAI,CACtBC,EAAS,KAAK,CACV,MAAO,QACP,QAAS,8BACrB,CAAS,EACD,MACR,CAEIJ,EAAO,UAAU,OAAO,iBAAiB,EAEzCV,EAAWa,CAAa,EACnB,KAAKE,GAAY,CACVA,EAAS,KAAK,KAAK,SAAW,EAC9BD,EAAS,KAAK,CACV,MAAO,QACP,QAAS,0EAC7B,CAAiB,GAED,QAAQ,IAAIC,EAAS,IAAI,EACzBX,EAAcW,EAAS,KAAK,IAAI,EAEvC,CAAA,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAMA,CAAK,EACnBF,EAAS,KAAK,CACV,MAAO,QACP,QAAS,sEACzB,CAAa,CACJ,CAAA,EACA,QAAQ,IAAMJ,EAAO,UAAU,IAAI,iBAAiB,CAAC,CAC9D"}